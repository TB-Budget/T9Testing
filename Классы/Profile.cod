--{{ Т9_Тесты - проект для тестирования проектов, созданных на платформе Т9 (c) ТБ.Бюджет, 2015

--Данный проект является свободным программным обеспечением. Вы вправе распространять его
--и/или модифицировать в соответствии с условиями версии 2.1 либо по вашему выбору с условиями
--более поздней версии Стандартной Общественной Лицензии Ограниченного Применения GNU,
--опубликованной Free Software Foundation.

--Мы распространяем этот проект в надежде на то, что он будет вам полезен, однако
--НЕ ПРЕДОСТАВЛЯЕМ НА НЕГО НИКАКИХ ГАРАНТИЙ, в том числе ГАРАНТИИ ТОВАРНОГО СОСТОЯНИЯ ПРИ ПРОДАЖЕ
--и ПРИГОДНОСТИ ДЛЯ ИСПОЛЬЗОВАНИЯ В КОНКРЕТНЫХ ЦЕЛЯХ. Для получения более подробной информации
--ознакомьтесь со Стандартной Общественной Лицензией Ограниченного Применений GNU.

--Вместе с данным проектом вы должны были получить экземпляр Стандартной Общественной Лицензии
--Ограниченного Применения GNU. Если вы его не получили, сообщите об этом в Software Foundation, Inc.,
--59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
--}

class "";

import СИС2 classes Функции, Переменные;

inclass public

  var locStart: Старт;

  proc PreInit;
    if ПроцессЗагрузкиПрерван: Return;
    fi;
  end;

  proc Init;
    var локВерсияПроектаИзИнфБазы: Numeric;
    var общИнтСхема: String;
    var сисКнфСхема: String;
    --{ регистрация в системной таблице
    with Константы do
      if НоваяИнформационнаяБазаДляПроекта(ClassProject, ИмяВерсииПроекта, ПолучитьВерсиюПроекта, локВерсияПроектаИзИнфБазы):
        try
          УстановитьНовуюВерсиюИнформационннойБазыДляПроекта(ИмяВерсииПроекта, ПолучитьВерсиюПроекта);
        except
        end;
      fi;
    end;--}
    --{ при использовании голого проекта Т9_Тесты загружается интерфейсная схема, содержащая команды, специфичные для процесса тестирования
    with SessionInfo.Infobase do
      if (ProjectCount = 2) and not (nil in [ProjectByName['Т9_Тесты'],ProjectByName['СИС2']]):
        общИнтСхема = ProjectByName['Т9_Тесты'].Folder + 'ИнтСхемы\Интерфейс_Тесты.shi';
        сисКнфСхема = SubStr(SessionInfo.TempFolder,1, Pos('\Temp\',SessionInfo.TempFolder)) + 'Config\Interfaces\Интерфейс_Тесты.shi';
        --if not ExistFile(сисКнфСхема):
          CopyFile(общИнтСхема, сисКнфСхема);
        --fi;
        locStart = Старт.CreateEx;
      fi;
    end;--}
    LoadAppIcon("%Projects%\Т9_Тесты\Приложения\Иконки\BugT9_48_32b.ico");
  end;


end